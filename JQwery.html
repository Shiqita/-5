<html>
<head>
  <meta charset="utf-8">
  <title>jQwery</title>
  <script src="http://code.jquery.com/jquery-latest.js"></script>
</head>
<body class="background">
  <script type="text/javascript">
    var a = [
      {
        text: 'Животные',
        children: [
          {
            text: 'Млекопитающие',
            children: [
              'Коровы',
              'Ослы',
              'Собаки',
              'Тигры'
            ]
          },
          {
            text: 'Другие',
            children: [
              'Змеи',
              'Птицы',
              'Ящерицы'
            ]
          },
          {
            text: 'Рыбы',
            children: [
             {
                text: 'Аквариумные',
                children: [
                  'Гуппи',
                  'Скалярии'
                ]
              },
              {
                text: 'Морские',
               children: [
                  'Морская форель'
               ]
             }
           ]
         }
        ]
      }
      ];
    function trees(children) 
    {
      var ul = $('<ul/>')
      
      for (var elem of children) 
      {
        var li = $('<li/>')
        if (elem.text !== undefined) 
          li.append(elem.text)
        if (typeof elem !== 'object')
          li.append(elem)
        else if (elem.children !== undefined) 
          li.append(trees(elem.children))
        li.on('click', function(b) 
        {
          b.preventDefault()
          $(this.firstElementChild).slideToggle()
          console.log(this.firstChild.data, $(this).find("li").length)
          return false
        })
        ul.append(li)
      }
      return ul
    }
    $("body").append(trees(a))
  </script>
</body>
</html>